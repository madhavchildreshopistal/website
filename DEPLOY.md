# Netlify Deployment Guide for PediatricCare

This guide will help you deploy the PediatricCare application to Netlify.

## Prerequisites

1. A Netlify account (sign up at [netlify.com](https://netlify.com))
2. Git repository (push your code to GitHub, GitLab, or Bitbucket)

## Deployment Steps

### Option 1: Deploy via Netlify Dashboard (Recommended)

1. **Connect your repository:**
   - Log in to your Netlify dashboard
   - Click "New site from Git"
   - Choose your Git provider and select this repository

2. **Configure build settings:**
   - Build command: `npm run build`
   - Publish directory: `dist/public`
   - Base directory: Leave empty (use root)

3. **Environment variables (if needed):**
   - Go to Site settings > Environment variables
   - Add any required environment variables

4. **Deploy:**
   - Click "Deploy site"
   - Netlify will automatically build and deploy your site

### Option 2: Deploy via Netlify CLI

1. **Install Netlify CLI:**
   ```bash
   npm install -g netlify-cli
   ```

2. **Login to Netlify:**
   ```bash
   netlify login
   ```

3. **Initialize the site:**
   ```bash
   netlify init
   ```

4. **Deploy for testing:**
   ```bash
   npm run build
   netlify deploy
   ```

5. **Deploy to production:**
   ```bash
   netlify deploy --prod
   ```

## Project Structure for Netlify

The project has been configured with:

- **`netlify.toml`**: Configuration file for build settings and redirects
- **`netlify/functions/`**: Serverless functions for API endpoints
  - `appointments.ts`: Handles appointment-related API calls
  - `contacts.ts`: Handles contact form submissions
- **`dist/public/`**: Built static files (generated by `npm run build`)

## API Endpoints

After deployment, your API endpoints will be available at:

- **Appointments:**
  - `GET /.netlify/functions/appointments` - Get all appointments
  - `POST /.netlify/functions/appointments` - Create new appointment
  - `GET /.netlify/functions/appointments/{id}` - Get specific appointment

- **Contacts:**
  - `GET /.netlify/functions/contacts` - Get all contacts
  - `POST /.netlify/functions/contacts` - Create new contact
  - `GET /.netlify/functions/contacts/{id}` - Get specific contact

## Important Notes

1. **Data Storage**: Currently using in-memory storage. For production, consider:
   - Netlify's built-in Forms for contact submissions
   - External database service (PlanetScale, Supabase, etc.)
   - Netlify's KV storage for simple data

2. **CORS**: Functions are configured to handle CORS automatically

3. **Redirects**: The `netlify.toml` file handles:
   - API routes redirect to functions
   - SPA routing redirects to `index.html`

## Troubleshooting

- **Build fails**: Check that all dependencies are listed in `package.json`
- **Functions not working**: Ensure functions are in `netlify/functions/` directory
- **404 errors**: Check that redirects are properly configured in `netlify.toml`
- **Environment variables**: Add them in Netlify dashboard under Site settings

## Local Development with Netlify

To test the Netlify setup locally:

```bash
# Install dependencies (if you haven't already)
npm install

# Start Netlify dev server
npx netlify dev
```

This will start a local development server that simulates the Netlify environment. 